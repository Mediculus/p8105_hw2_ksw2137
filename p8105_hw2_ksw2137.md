P8105 Data Science I - Homework 2
================
Kevin S.Wongsodirdjo UNI: ksw2137
9/24/2019

# Introduction

R Markdown document for P8105 homework 2. Code chunk below shows that we
are loading the required packages in order to manipulate the imported
data.

``` r
# Loads the necessary packages
Packages <- c("dplyr", "tidyverse", "readxl")
invisible(lapply(Packages, library, character.only = TRUE))
```

# Problem 1

We are loading datasets from the Healthy Harbor Water Wheel dataset,
particularly from the sheets: “Mr. Trash Wheel”, “2018 Precipitation”,
and “2017 Precipitation”. While the dataset is generally “tidy”, we will
modify these further to make it easier to work with the data.

## Mr. Trash Wheel Data Import and Clean-up

``` r
# Import excel sheet and piping to clean data for Mr. Trash Wheel
trash_wheel_data <- 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx",  # Specifies source excel file
                             sheet = "Mr. Trash Wheel") %>%         # Specifies which sheet to read
  janitor::clean_names() %>%                                        # renames column titles as x_y and lowercases
  select(-x15) %>%                                                  # selects all columns except the "x15" (comments)
  drop_na(year) %>%                                                 # drops any rows containing NA in "year" column
  mutate(
    date = format(date, format = "%d"),                             # Changes the date format from %y%m%d to %d
    sports_balls = round(sports_balls, 0),                          # Rounds the numbers in sports_balls to integers
    sports_balls = as.integer(sports_balls),                        # Converts type from double to integers
    month = str_to_lower(month)) %>%                                # Makes months to have lowercases
  select(dumpster, year, month, everything())                       # Re-arranges the column to be "tidier"

col_sportball <- pull(trash_wheel_data, sports_balls)
```

## Precipitation 2017 & 2018 Data Import and Clean-up

Dataset for precipitation from 2017 and 2018 were on separate sheets.
Since we would like a combined dataset, we need to merge the two
datasets together.

``` r
# Reads the 2017 precipitation data
precip2017_data <- 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", 
             sheet = "2017 Precipitation",                          # Specifies the sheet
             range = "A2:B14") %>%                                  # Specifies range of cells to be read
  janitor::clean_names() %>%                                        # turns column names to lowercases
  mutate(year = "2017") %>% 
  select(year, everything()) %>% 
  drop_na(total)                                                    # drops any blank cells in "total" column
    
precip2018_data <- 
  read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", 
             sheet = "2018 Precipitation", 
             range = "A2:B14") %>%
  janitor::clean_names() %>% 
  mutate(year = "2018") %>% 
  select(year, everything()) %>% 
  drop_na(total)

merged_precip20178_data <- full_join(precip2017_data, precip2018_data, by = c("year", "month", "total")) %>% 
  mutate(month = str_to_lower(month.name[month])) %>% 
  rename(monthly_precip = total)

total_precip2018 <- sum(pull(precip2018_data, total))
```

Write a paragraph about these data; you are encouraged to use inline R.
Be sure to note the number of observations in both resulting datasets,
and give examples of key variables. For available data, what was the
total precipitation in 2018? What was the median number of sports balls
in a dumpster in 2017?
